<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="images/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="btc-calc.css" />
    <title>BTC Sale Calculator</title>
    <script src="popup.js" type="module"></script>
    <script src="libraries/p5.min.js"></script>
  </head>
  <body>
    <div class="header-container" id="header-container">
      <h1 id="header" style="font-size: 24px">
        Calculate Your Bitcoin Sale Strategy
        <em style="font-size: 32px">FREE</em>
      </h1>
      <button id="currencyToggleButton">USD/EUR</button>
      <a href="https://twitter.com/@bigbagboogie" target="_blank" id="twitterButton">
        <img src="twitter-icon.svg" alt="Twitter" />
      </a>
    </div>


    <div id="btc-calculation-form">
      <!-- Regular input fields -->
      <label for="desiredBtcToSell">Desired BTC to Sell:</label>
      <input type="number" id="desiredBtcToSell" placeholder="Enter total BTC to sell" required step="0.0001" />

      <label for="btcToSell">BTC to Sell at Each Increment:</label>
      <input type="number" id="btcToSell" placeholder="Enter BTC per sale" required step="0.0001" />

      <label for="startingPrice">Starting Price for Selling (in <span class="currency-label">USD</span>):</label>
      <input type="number" id="startingPrice" placeholder="Enter starting sale price" required />

      <label for="priceIncrement">Price Increment Between Sales (in <span class="currency-label">USD</span>):</label>
      <input type="number" id="priceIncrement" placeholder="Enter price increment" required />

      <label for="scenarioTop">Bull Market Top to Simulate (in <span class="currency-label">USD</span>):</label>
      <input type="number" id="scenarioTop" name="scenarioTop" placeholder="Enter bull market top scenario" required />

      <!-- Advanced Exit Strategies Section -->
      <div class="button-container">
        <button class="calculateButton" id="calculateButton">
          Calculate Sales Strategy
        </button>
        <button class="advancedButton" id="advancedToggleButton">
          Advanced Exit Strategies
        </button>
      </div>

      <!-- Hidden Advanced Section -->
      <div id="advancedSection" style="display: none">
        <label for="incrementPercent">Set Increment Percentage for Sell-Off:</label>
<div class="input-container">
  <input type="number" id="incrementPercent" name="incrementPercent" step="0.1" placeholder="Enter percentage (e.g., 10 for +10%)" step="1" />
  <label for="toggleNegative">toggle negative value</label>
  <button id="toggleNegative">-</button>
</div>

        <!-- Dynamic text for explanation -->
        <p id="percentageExplanation" style="font-size: 14px; color: #666;"></p>
      </div>
    </div>

    <!-- Popup Container for Results -->
    <div id="popupContainer" class="popup-container">
      <div class="popup-content">
        <h2>Calculation Results</h2>
        <p id="resultsText">Results will appear here.</p>
        <button id="closePopupButton">Close</button>
      </div>
    </div>

    <div class="donate-container" id="donate-container">
      <h5>If you enjoyed this tool, please consider sharing it with your friends! or donate BTC:</h5>
      <em style="font-size: 14px; cursor: pointer;" id="btc-address">
          bc1q8zxpazrwjffv2e2x6kzjfcvcfd9yjta0rzw432
      </em>
      <p id="copy-message" style="display: none; font-size: 16px; color: rgb(189, 191, 255);">Copied to clipboard!</p>
  </div>

  
  <script>
      // Get the BTC address element
      const btcAddress = document.getElementById("btc-address");
  
      // Add click event listener to copy text
      btcAddress.addEventListener("click", function() {
          const address = btcAddress.textContent; // Get the address text
  
          // Use navigator.clipboard API to copy text
          navigator.clipboard.writeText(address).then(() => {
              // Show confirmation message
              const message = document.getElementById("copy-message");
              message.style.display = "block";
  
              // Hide message after 2 seconds
              setTimeout(() => {
                  message.style.display = "none";
              }, 2000);
          }).catch(err => {
              console.error("Failed to copy: ", err);
          });
      });
  </script>
  

    <!-- Footer with Collapsible Disclaimer -->
    <footer>
      <div class="footer-text">        
        <!-- <a id="infoLink" href="https://bigbagboogy.com/">
          BTC Sale Calculator Info
        </a> -->
        
      <!-- </div>
      <div class="footer-buttons">
        <a href="test.html">Test Page</a>
      </div> -->

      <!-- Collapsible Disclaimer Section -->
      <div>
        <button
          id="disclaimerToggle"
          style="
            background: none;
            border: none;
            color: #ff8f67;
            font-weight: bold;            
          "
        >
          Disclaimer
        </button>
        <div id="disclaimerContent" style="display: none">
          <p>
            This tool is for informational purposes only and does not constitute
            financial advice. Please conduct your own research and consult a
            financial advisor before making investment decisions.
          </p>
        </div>
      </div>
    </footer>

    <script src="btc-calc.js" type="module"></script>
  </body>
</html>
